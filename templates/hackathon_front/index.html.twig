{% extends 'base.html.twig' %}
{% block title %}Proposer un Hackathon{% endblock %}
{% block body %}
    <section class="space-y-8" data-controller="form-wizard"
             data-form-wizard-current-step-value="1">
            <header class="space-y-2">
                <h1 class="headline">Proposer un Hackathon üöÄ</h1>
                <p class="muted">Le formulaire s‚Äôadapte automatiquement √† vos r√©ponses.</p>
            </header>
            {# √âtapes (fil d‚ÄôAriane simple) #}
            {# √âtapes (fil d‚ÄôAriane simple) #}
            <nav class="flex gap-2 text-sm">
                <span data-form-wizard-target="stepper" class="badge">1. Type</span>
                <span data-form-wizard-target="stepper" class="badge">2. Dates</span>
                <span data-form-wizard-target="stepper" class="badge">3. Inscriptions</span>
                <span data-form-wizard-target="stepper" class="badge">4. R√©cap</span>
            </nav>
            <form method="post" action="{{ path('app_hackathon_proposer') }}" data-form-wizard-target="form" class="space-y-8">
                {# ========== √âtape 1 : Type & localisation ========== #}
                {# ========== √âtape 1 : Type & localisation ========== #}
                <section data-form-wizard-target="step" data-step="1" class="card p-6 space-y-4">
                    <h2 class="text-lg font-semibold">1) Type & localisation</h2>
                    <div class="space-y-2">
                        <div class="space-y-2">
                            <label class="font-medium">Type d‚Äô√©v√©nement *</label>
                            <div class="flex gap-4">
                                <label>
                                    <input type="radio" name="hackathon[type]" value="presentiel" data-action="change->form-wizard#onTypeChange"> Pr√©sentiel
                                </label>
                                <label>
                                    <input type="radio" name="hackathon[type]" value="en-ligne" data-action="change->form-wizard#onTypeChange"> En ligne
                                </label>
                            </div>
                        </div>
                        {# Bloc adresse ‚Äî visible si ‚Äúpr√©sentiel‚Äù #}
                        {# Bloc adresse ‚Äî visible si ‚Äúpr√©sentiel‚Äù #}
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"
                             data-form-wizard-target="adresseGroup">
                            <div>
                                <label class="font-medium">Lieu</label>
                                <label>
                                    <input class="input" type="text" name="hackathon[lieu]"
                                           placeholder="Ex: H√©micycle, Campus X"
                                           data-action="input->form-wizard#updatePreview">
                                </label>
                            </div>
                            <div>
                                <label class="font-medium">Adresse</label>
                                <label>
                                    <input class="input" type="text" name="hackathon[adresse]"
                                           placeholder="10 rue de la Paix"
                                           data-action="input->form-wizard#updatePreview">
                                </label>
                            </div>
                            <div>
                                <label class="font-medium">Ville</label>
                                <label>
                                    <input class="input" type="text" name="hackathon[ville]"
                                           placeholder="Nantes"
                                           data-action="input->form-wizard#updatePreview">
                                </label>
                            </div>
                            <div>
                                <label class="font-medium">Code postal</label>
                                <label>
                                    <input class="input" type="text" name="hackathon[cp]"
                                           pattern="\\d{5}" placeholder="44000"
                                           data-action="input->form-wizard#updatePreview">
                                </label>
                            </div>
                        </div>
                        {# Bloc URL ‚Äî visible si ‚Äúen-ligne‚Äù #}
                        <div data-form-wizard-target="urlGroup">
                            <label class="font-medium">URL de l‚Äô√©v√©nement</label>
                            <label>
                                <input class="input" type="url" name="hackathon[url]"
                                       placeholder="https://event.example.com"
                                       data-action="input->form-wizard#updatePreview">
                            </label>
                        </div>
                        <div class="flex gap-2">
                            <div class="flex gap-2">
                                <button type="button" class="btn" disabled>Pr√©c√©dent</button>
                                <button type="button" class="btn btn-primary"
                                        data-action="click->form-wizard#goNext">√âtape suivante</button>
                            </div>
                        </div>
                    </div>
                </section>
                {# ========== √âtape 2 : Dates ========== #}
                <section data-form-wizard-target="step" data-step="2" class="card p-6 space-y-4">
                    <h2 class="text-lg font-semibold">2) Dates</h2>
                    <div class="flex flex-col">
                        <div class="flex">
                            <div>
                                <label class="font-medium">D√©but *</label>
                                <label>
                                    <input class="input" type="datetime-local" name="hackathon[dateHeureDebut]"
                                           data-action="change->form-wizard#onDateChange input->form-wizard#updatePreview">
                                </label>
                            </div>
                            <div>
                                <label class="font-medium">√âv√©nement sur plusieurs jours ?</label>
                                <label>
                                    <input type="checkbox" name="hackathon[multiJours]" value="1"
                                           data-action="change->form-wizard#toggleFin">
                                </label>
                            </div>
                            <div data-form-wizard-target="finGroup">
                                <label class="font-medium">Fin</label>
                                <label>
                                    <input class="input" type="datetime-local" name="hackathon[dateHeureFin]"
                                           data-action="change->form-wizard#onDateChange input->form-wizard#updatePreview">
                                </label>
                                <p class="text-xs muted" data-form-wizard-target="dateHelp"></p>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <div class="flex gap-2">
                                <button type="button" class="btn" data-action="click->form-wizard#goPrev">Pr√©c√©dent</button>
                                <button type="button" class="btn btn-primary" data-action="click->form-wizard#goNext">√âtape suivante</button>
                            </div>
                        </div>
                    </div>
                </section>
                {# ========== √âtape 3 : Inscriptions ========== #}
                <section data-form-wizard-target="step" data-step="3" class="card p-6 space-y-4">
                    <h2 class="text-lg font-semibold">3) Inscriptions</h2>
                    <div class="space-y-2">
                            <label class="font-medium">Inscriptions obligatoires ?</label>
                            <div class="flex gap-4">
                                <label><input type="radio" name="hackathon[inscriptionObligatoire]" value="oui"
                                              data-action="change->form-wizard#onInscriptionChange"> Oui</label>
                                <label><input type="radio" name="hackathon[inscriptionObligatoire]" value="non"
                                              data-action="change->form-wizard#onInscriptionChange"> Non</label>
                            </div>
                    </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-form-wizard-target="inscriptionGroup">
                                <div>
                                    <label class="font-medium">URL d‚Äôinscription</label>
                                    <label>
                                        <input class="input" type="url" name="hackathon[urlInscription]"
                                               placeholder="https://inscriptions.example.com"
                                               data-action="input->form-wizard#updatePreview">
                                    </label>
                                </div>
                                <div>
                                    <label class="font-medium">Date limite</label>
                                    <label>
                                        <input class="input" type="date" name="hackathon[dateLimiteInscription]"
                                               data-action="change->form-wizard#updatePreview">
                                    </label>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <div class="flex gap-2">
                                    <button type="button" class="btn" data-action="click->form-wizard#goPrev">Pr√©c√©dent</button>
                                    <button type="button" class="btn btn-primary" data-action="click->form-wizard#goNext">√âtape suivante</button>
                                </div>
                            </div>
                </section>
                {# ========== √âtape 4 : R√©cap dynamique ========== #}
                <section data-form-wizard-target="step" data-step="4" class="card p-6 space-y-4">
                    <h2 class="text-lg font-semibold">4) R√©capitulatif</h2>
                    <article class="p-4 border rounded space-y-2" data-form-wizard-target="preview">
                            <h3 class="font-semibold">Aper√ßu</h3>
                            <p class="muted">Compl√©tez le formulaire : les infos s‚Äôaffichent ici.</p>
                        </article>
                        <div class="flex justify-end gap-2">
                            <div class="flex justify-end gap-2">
                                <button type="button" class="btn" data-action="click->form-wizard#goPrev">Pr√©c√©dent</button>
                                <button type="submit" class="btn btn-primary">Envoyer (d√©mo)</button>
                            </div>
                        </div>
                </section>
            </form>
    </section>
{% endblock %}
